Unloading the cpe module is insufficient to restore the system defaults.
Please run 'source
/opt/cray/pe/cpe/23.12/restore_lmod_system_defaults.[csh|sh]'. 

Lmod is automatically replacing "PrgEnv-cray/8.5.0" with "PrgEnv-nvhpc/8.5.0".


Lmod is automatically replacing "cce/17.0.0" with "nvhpc/24.3".


Inactive Modules:
  1) cray-libsci/23.12.5     2) cray-mpich/8.1.28

nvc++ -I../common -O3 -acc -mp -Minfo=acc -std=c++11 -gpu=cc90 blur_openacc.cpp -o blur.openacc 
blur_twice_gpu_naive(double*, double*, int, int):
     51, Generating copyin(in[:n]) [if not already present]
         Generating copyout(buffer[:n]) [if not already present]
         Generating implicit firstprivate(n)
         Generating NVIDIA GPU code
         53, #pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */
     55, Generating copyout(out[:n]) [if not already present]
         Generating copyin(buffer[:n]) [if not already present]
         Generating implicit firstprivate(n)
         Generating NVIDIA GPU code
         58, #pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */
blur_twice_gpu_nocopies(double*, double*, int, int):
     77, Generating create(buffer[:n]) [if not already present]
         Generating copyout(out[:n]) [if not already present]
         Generating copyin(in[:n]) [if not already present]
     78, Generating implicit firstprivate(n)
         Generating NVIDIA GPU code
         80, #pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */
     82, Generating implicit firstprivate(n)
         Generating NVIDIA GPU code
         85, #pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */
     87, Generating implicit firstprivate(n)
         Generating NVIDIA GPU code
         91, #pragma acc loop gang, vector(128) /* blockIdx.x threadIdx.x */
dispersion 1D test of length n = 1048580 : 8.00003MB
==== Validation: host vs GPU naive: success ====
==== Validation: host vs GPU no copies: success ====
Host version took 1.01876 s (0.00101876 s/step)
GPU naive version took 1.63061 s (0.00163061 s/step)
GPU no-copies version took 1.50789 s (0.00150789 s/step)
